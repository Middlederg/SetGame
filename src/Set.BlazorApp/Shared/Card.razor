@using Set.Core

<button type="button" @onclick="@OnSelected" class="btn btn-light m-4 px-1 py-4 set-card @active" style="width:160px">
    @{
        string imagePath = $"{SetCard.Path}.png";
    }
    @foreach (var i in Enumerable.Range(0, SetCard.Number))
    {
        <img class="d-inline" src="img/@imagePath" style="width:40px" />
    }

</button>

@code {
    private string active;
    private bool selected;
    public bool Selected
    {
        get => selected;
        set
        {
            selected = value;
            active = value ? "active" : "";
        }
    }

    void OnSelected()
    {
        Selected = !Selected;
        if (Selected)
           OnCardSelected.InvokeAsync(this);
        else OnCardDeSelected.InvokeAsync(this);
    }

    [Parameter]
    public EventCallback<Card> OnCardSelected { get; set; }

    [Parameter]
    public EventCallback<Card> OnCardDeSelected { get; set; }

    [Parameter]
    public ICard SetCard { get; set; }
}

